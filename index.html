<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Merlin Komenda</title>
<meta name="description" content="Most organizations don’t lack ideas. They lack structure." />

<!-- Favicon -->
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="apple-touch-icon" href="/favicon.png">
<meta name="theme-color" content="#7c3aed">

<style>
:root{
  --bg:#f3f4f8;
  --paper:rgba(255,255,255,.84);
  --text:#0b1020;
  --muted:rgba(11,16,32,.68);
  --line:rgba(11,16,32,.10);
  --accent:#7c3aed;
  --accent2:#22d3ee;
  --accent3:#ff4d8d;
  --shadow:0 25px 70px rgba(15,23,42,.10);
  --radius:26px;
  --max:1040px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(900px 600px at 10% 8%, rgba(124,58,237,.14), transparent 60%),
    radial-gradient(900px 600px at 95% 0%, rgba(34,211,238,.12), transparent 55%),
    radial-gradient(900px 600px at 75% 85%, rgba(255,77,141,.10), transparent 55%),
    var(--bg);
}

.wrap{
  max-width:var(--max);
  margin:0 auto;
  padding:28px 20px 80px;
  position:relative;
}
a{text-decoration:none;color:inherit}

/* --- Signature Metaphor: Blueprint Rail + Nodes --- */
.blueprintRail{
  position:absolute;
  top:120px;
  bottom:70px;
  left:10px;
  width:2px;
  border-radius:999px;
  background:linear-gradient(
    180deg,
    rgba(124,58,237,.28),
    rgba(34,211,238,.22),
    rgba(255,77,141,.14)
  );
  opacity:.55;
  pointer-events:none;
}
@media(max-width:720px){
  .blueprintRail{ display:none; }
}
.sectionNode{
  position:relative;
}
.sectionNode::before{
  content:"";
  position:absolute;
  left:-22px;
  top:6px;
  width:12px;
  height:12px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  box-shadow:0 10px 24px rgba(124,58,237,.18);
  border:2px solid rgba(255,255,255,.9);
}
@media(max-width:720px){
  .sectionNode::before{ display:none; }
}

/* --- Signature icon: loop mark --- */
.sigMark{
  width:18px;
  height:18px;
  flex:0 0 auto;
  display:inline-block;
}

.nodeLabel{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:7px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.78);
  font-weight:750;
  font-size:13px;
  color:rgba(11,16,32,.78);
}
.nodeLabel .labelText{line-height:1;}

/* Nav */
.nav{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;
  border:1px solid var(--line);
  border-radius:999px;
  background:rgba(255,255,255,.78);
  backdrop-filter:blur(10px);
  position:sticky;top:16px;z-index:10;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:850;letter-spacing:-0.2px}
.mark{
  width:34px;height:34px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  box-shadow:0 10px 24px rgba(124,58,237,.25);
}
.navlinks{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.navlinks a{font-size:14px;font-weight:650;padding:8px 10px;border-radius:999px}
.navlinks a:hover{background:rgba(11,16,32,.05)}

/* Mobile menu */
.menuBtn{
  display:none;
  align-items:center;
  justify-content:center;
  gap:8px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.85);
  padding:10px 12px;
  border-radius:999px;
  font-weight:750;
  cursor:pointer;
}
.mobileMenu{
  display:none;
  margin-top:10px;
  padding:10px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.88);
  border-radius:18px;
}
.mobileMenu a{
  display:block;
  padding:10px 12px;
  border-radius:12px;
  font-weight:650;
}
.mobileMenu a:hover{background:rgba(11,16,32,.05)}

/* Hero */
.hero{
  margin-top:42px;
  border-radius:var(--radius);
  background:var(--paper);
  border:1px solid var(--line);
  box-shadow:var(--shadow);
  overflow:hidden;
  position:relative;
}
.hero::before{
  content:"";
  position:absolute;inset:0;
  background:
    repeating-linear-gradient(90deg, rgba(11,16,32,.05) 0px, rgba(11,16,32,.05) 1px, transparent 1px, transparent 80px),
    repeating-linear-gradient(0deg, rgba(11,16,32,.04) 0px, rgba(11,16,32,.04) 1px, transparent 1px, transparent 80px);
  opacity:.20;
  pointer-events:none;
}
.hero::after{
  content:"";
  position:absolute;
  left:-160px;
  top:-160px;
  width:420px;
  height:420px;
  background:
    radial-gradient(circle at 30% 30%, rgba(34,211,238,.22), transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(124,58,237,.22), transparent 60%),
    radial-gradient(circle at 55% 45%, rgba(255,77,141,.12), transparent 65%);
  opacity:.85;
  pointer-events:none;
}

/* One continuous opening canvas */
.heroIntro{
  position:relative;
  padding:60px 44px 70px;
  display:flex;
  flex-direction:column;
  gap:42px;
}
@media(max-width:900px){
  .heroIntro{padding:40px 22px 50px;gap:28px}
}

h1{
  font-size:clamp(42px,5vw,70px);
  line-height:.95;
  margin:0 0 14px;
  letter-spacing:-1.2px;
}

.heroLayout{
  display:grid;
  grid-template-columns: 1.25fr 0.75fr;
  align-items:center;
  gap:42px;
}
@media(max-width:900px){
  .heroLayout{grid-template-columns:1fr;gap:22px}
}

.heroLead{
  font-size:18px;
  color:rgba(11,16,32,.78);
  line-height:1.6;
  margin:0 0 16px;
  max-width:760px;
}
.heroSub{
  font-size:16px;
  color:var(--muted);
  max-width:760px;
  line-height:1.65;
  margin:0 0 24px;
}

/* Headshot */
.heroPhotoWrap{
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}
.heroPhotoWrap::before{
  content:"";
  position:absolute;
  width:290px;
  height:290px;
  border-radius:50%;
  background:conic-gradient(from 210deg, rgba(124,58,237,.55), rgba(34,211,238,.45), rgba(255,77,141,.25), rgba(124,58,237,.55));
  opacity:.55;
}
.heroPhoto{
  position:relative;
  width:260px;
  height:260px;
  object-fit:cover;
  border-radius:50%;
  border:3px solid rgba(255,255,255,.78);
  box-shadow:0 30px 60px rgba(15,23,42,.18);
  filter: saturate(0.88) contrast(1.08);
}
@media(max-width:900px){
  .heroPhotoWrap::before{width:230px;height:230px}
  .heroPhoto{width:200px;height:200px}
}

/* Where I Help (inside hero) */
.whereHelp{
  max-width:720px;
  font-size:18px;
  line-height:1.7;
  color:rgba(11,16,32,.82);
}
.whereHelp p{margin:10px 0}
.whereHelp strong{font-weight:850}

/* Buttons */
.btn{
  padding:12px 16px;
  border-radius:14px;
  font-weight:750;
  border:1px solid var(--line);
  background:rgba(255,255,255,.86);
  color:var(--text);
  cursor:pointer;
  transition:
    background .25s ease,
    color .25s ease,
    transform .25s ease,
    box-shadow .25s ease,
    border-color .25s ease;
}
.btn:hover{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;
  border-color:transparent;
  transform:translateY(-2px);
  box-shadow:0 12px 28px rgba(124,58,237,.25);
}
.btn:active{
  transform:translateY(0px);
  box-shadow:0 6px 14px rgba(124,58,237,.18);
}
.ctas{display:flex;gap:12px;flex-wrap:wrap}

/* Sections */
section{margin-top:60px; scroll-margin-top: 110px;}
.section-title{
  display:flex;justify-content:space-between;align-items:baseline;
  margin-bottom:14px; gap:12px;
}
.section-title h2{font-size:20px;margin:0;letter-spacing:-0.2px}
.hint{font-size:13px;color:var(--muted)}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

/* Tiles */
.tile{
  padding:20px;
  border-radius:18px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.88);
  position:relative;
  overflow:hidden;
}
.tile::before{
  content:"";
  position:absolute;
  left:0; top:0;
  width:100%;
  height:4px;
  background:linear-gradient(135deg, rgba(124,58,237,.55), rgba(34,211,238,.45), rgba(255,77,141,.20));
  opacity:.65;
}
.tile h3{margin:0 0 6px;font-size:16px;letter-spacing:-0.1px}
.tile p{margin:0;color:var(--muted);font-size:14px;line-height:1.55}

.list{
  margin:10px 0 0;
  padding-left: 18px;
  color: var(--muted);
  font-size: 14px;
  line-height: 1.6;
}
.list li{margin: 6px 0;}

.smalllinks{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
.smalllinks a{border-bottom:1px solid rgba(11,16,32,.14);padding-bottom:2px}
.smalllinks a:hover{border-bottom-color:rgba(11,16,32,.28)}

/* Manifesto */
.manifesto{
  padding:22px;
  border-radius:18px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.88);
  line-height:1.7;
  color:rgba(11,16,32,.80);
}
.manifesto p{margin:0 0 10px}
.manifesto p:last-child{margin:0}
.manifesto strong{font-weight:900;letter-spacing:-0.2px}
.manifesto .muted{color:var(--muted)}

/* How I Think blocks */
.thinkWrap{
  display:grid;
  grid-template-columns:1.1fr 0.9fr;
  gap:28px;
}
@media(max-width:900px){ .thinkWrap{grid-template-columns:1fr;} }

.thinkCard{
  padding:26px;
  border-radius:20px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.88);
  position:relative;
  overflow:hidden;
}
.thinkCard::before{
  content:"";
  position:absolute;
  top:0;left:0;
  width:100%;
  height:4px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  opacity:.7;
}
.thinkIntro{
  font-size:18px;
  line-height:1.65;
  margin:0 0 18px;
  color:rgba(11,16,32,.82);
}
.thinkCloser{
  margin-top:18px;
  font-weight:800;
  letter-spacing:-0.2px;
  color:rgba(11,16,32,.82);
}

/* Loop grid for left card */
.thinkLoopGrid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  margin-top:18px;
}
.loopItem{
  padding:14px;
  border-radius:14px;
  background:rgba(11,16,32,.04);
}
.loopItem strong{
  display:block;
  font-weight:800;
  margin-bottom:4px;
  letter-spacing:-0.2px;
}
.loopItem span{
  font-size:13px;
  color:var(--muted);
  line-height:1.5;
}
@media(max-width:720px){
  .thinkLoopGrid{grid-template-columns:1fr;}
}

/* Principles right card */
.principles{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.principle{
  padding:14px 16px;
  border-radius:14px;
  background:rgba(11,16,32,.04);
  font-weight:700;
  color:rgba(11,16,32,.82);
}

/* KPI Row */
.kpiRow{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:14px;
  margin-bottom:14px;
}
@media(max-width:900px){ .kpiRow{grid-template-columns:1fr;} }

.kpiCard{
  padding:18px;
  border-radius:18px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.88);
  position:relative;
  overflow:hidden;
}
.kpiCard::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(280px 180px at 20% 15%, rgba(124,58,237,.12), transparent 60%),
    radial-gradient(260px 160px at 90% 10%, rgba(34,211,238,.10), transparent 60%);
  opacity:.9;
  pointer-events:none;
}
.kpiBig{
  position:relative;
  font-size:30px;
  font-weight:950;
  letter-spacing:-0.8px;
  margin:0 0 6px;
}
.kpiSmall{
  position:relative;
  margin:0;
  color:var(--muted);
  font-size:14px;
  line-height:1.45;
}

.footer{
  margin-top:70px;
  padding-top:24px;
  border-top:1px solid var(--line);
  font-size:13px;color:var(--muted);
  display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;
}

/* Mobile cleanup */
@media(max-width:720px){
  .nav{flex-wrap:wrap;gap:10px;border-radius:22px}
  .navlinks{ display:none; }
  .menuBtn{ display:flex; }
  .mobileMenu{ width:100%; }
  .mobileMenu.open{ display:block; }
  h1{ font-size:clamp(34px, 9vw, 48px); }
  .heroLead{ font-size:16px; }
}
</style>
</head>

<body>
<div class="wrap">
  <!-- Blueprint rail -->
  <div class="blueprintRail" aria-hidden="true"></div>

  <div class="nav" role="navigation" aria-label="Primary">
    <div class="brand">
      <div class="mark"></div>
      Merlin Komenda
    </div>

    <div class="navlinks" aria-label="Desktop navigation">
      <a href="#about">Where I help</a>
      <a href="#thinking">How I think</a>
      <a href="#impact">Results</a>
      <a href="/experience/">Experience</a>
      <a href="#schedule">Schedule</a>
      <a href="#contact">Connect</a>
    </div>

    <button class="menuBtn" id="menuBtn" type="button" aria-expanded="false" aria-controls="mobileMenu">
      ☰ Menu
    </button>

    <div class="mobileMenu" id="mobileMenu">
      <a href="#about">Where I help</a>
      <a href="#thinking">How I think</a>
      <a href="#impact">Results</a>
      <a href="/experience/">Experience</a>
      <a href="#schedule">Schedule</a>
      <a href="#contact">Connect</a>
    </div>
  </div>

  <!-- HERO + WHERE I HELP (continuous) -->
  <div class="hero">
    <div class="heroIntro">
      <div class="heroLayout">

        <div>
          <div class="nodeLabel">
            <svg class="sigMark" viewBox="0 0 24 24" aria-hidden="true">
              <defs>
                <linearGradient id="mkGradHero" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="var(--accent)"/>
                  <stop offset="100%" stop-color="var(--accent2)"/>
                </linearGradient>
              </defs>
              <path d="M16.5 7.5a6.5 6.5 0 1 0 1.4 6.9" fill="none" stroke="url(#mkGradHero)" stroke-width="2.2" stroke-linecap="round"/>
              <path d="M17.9 14.4l.9 2.9 2.7-1.3" fill="none" stroke="url(#mkGradHero)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="labelText">Systems architect for growing teams</span>
          </div>

          <h1>
            Most organizations don’t lack ideas.<br>
            They lack structure.
          </h1>

          <p class="heroLead">
            I design systems that turn momentum into repeatable results.
          </p>

          <p class="heroSub">
            Global Director of Implementation focused on execution, scale, and AI-enabled operations.
            Calm under pressure. Outcome-first.
          </p>

          <div class="ctas">
            <a class="btn" href="#thinking">How I think</a>
            <a class="btn" href="#impact">Results</a>
            <a class="btn" href="/resume.pdf" target="_blank" rel="noopener">Resume</a>
            <a class="btn" href="https://www.linkedin.com/in/merlin-komenda/" target="_blank" rel="noopener">LinkedIn</a>
          </div>
        </div>

        <div class="heroPhotoWrap">
          <img src="/headshot.jpg" alt="Merlin Komenda" class="heroPhoto">
        </div>

      </div>

      <!-- Where I Help (inside hero) -->
      <div id="about" class="whereHelp sectionNode">
        <div class="nodeLabel">
          <svg class="sigMark" viewBox="0 0 24 24" aria-hidden="true">
            <defs>
              <linearGradient id="mkGradHelp" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)"/>
                <stop offset="100%" stop-color="var(--accent2)"/>
              </linearGradient>
            </defs>
            <path d="M16.5 7.5a6.5 6.5 0 1 0 1.4 6.9" fill="none" stroke="url(#mkGradHelp)" stroke-width="2.2" stroke-linecap="round"/>
            <path d="M17.9 14.4l.9 2.9 2.7-1.3" fill="none" stroke="url(#mkGradHelp)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="labelText">Where I help</span>
        </div>

        <p>Organizations reach a point where growth starts creating friction.</p>

        <p>
          Work moves slower despite hiring.<br>
          Decisions bounce between teams.<br>
          Progress depends on a few overloaded people.
        </p>

        <p>
          Nothing is broken.<br>
          <strong>But execution stops scaling.</strong>
        </p>

        <p>
          I help teams restore clarity, stabilize delivery,
          and build systems that keep working as the organization grows.
        </p>
      </div>

    </div>
  </div>

  <!-- HOW I THINK -->
  <section id="thinking" class="sectionNode">
    <div class="section-title">
      <div class="nodeLabel">
        <svg class="sigMark" viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="mkGradThink" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="var(--accent)"/>
              <stop offset="100%" stop-color="var(--accent2)"/>
            </linearGradient>
          </defs>
          <path d="M16.5 7.5a6.5 6.5 0 1 0 1.4 6.9" fill="none" stroke="url(#mkGradThink)" stroke-width="2.2" stroke-linecap="round"/>
          <path d="M17.9 14.4l.9 2.9 2.7-1.3" fill="none" stroke="url(#mkGradThink)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="labelText">How I think</span>
      </div>
      <div class="hint">Operating model</div>
    </div>

    <div class="thinkWrap">

      <div class="thinkCard">
        <p class="thinkIntro">
          When execution feels messy, the problem usually isn’t effort.
          The system behind the work isn’t clear yet.
        </p>

        <div class="thinkLoopGrid">
          <div class="loopItem">
            <strong>Define the outcome</strong>
            <span>What success actually looks like</span>
          </div>
          <div class="loopItem">
            <strong>Clarify ownership</strong>
            <span>Who decides and what happens next</span>
          </div>
          <div class="loopItem">
            <strong>Create a repeatable path</strong>
            <span>Progress without heroics</span>
          </div>
          <div class="loopItem">
            <strong>Refine through use</strong>
            <span>Adjust until results are predictable</span>
          </div>
        </div>

        <p class="thinkCloser">
          If progress depends on constant intervention, the system isn’t finished.
        </p>
      </div>

      <div class="thinkCard principles">
        <div class="principle">Structure beats intensity.</div>
        <div class="principle">Clarity comes before speed.</div>
        <div class="principle">Systems should survive turnover.</div>
        <div class="principle">AI should reduce friction, not add noise.</div>
      </div>

    </div>
  </section>

  <!-- RESULTS -->
  <section id="impact" class="sectionNode">
    <div class="section-title">
      <div class="nodeLabel">
        <svg class="sigMark" viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="mkGradRes" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="var(--accent)"/>
              <stop offset="100%" stop-color="var(--accent2)"/>
            </linearGradient>
          </defs>
          <path d="M16.5 7.5a6.5 6.5 0 1 0 1.4 6.9" fill="none" stroke="url(#mkGradRes)" stroke-width="2.2" stroke-linecap="round"/>
          <path d="M17.9 14.4l.9 2.9 2.7-1.3" fill="none" stroke="url(#mkGradRes)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="labelText">Results</span>
      </div>
      <div class="hint">Proof, not adjectives</div>
    </div>

    <div class="kpiRow">
      <div class="kpiCard">
        <p class="kpiBig">~30%</p>
        <p class="kpiSmall">Time-to-live reduction, with first customer usage in ~15 days.</p>
      </div>
      <div class="kpiCard">
        <p class="kpiBig">60+</p>
        <p class="kpiSmall">Implemented clients annually with repeatable outcomes.</p>
      </div>
      <div class="kpiCard">
        <p class="kpiBig">75+</p>
        <p class="kpiSmall">NPS across enterprise relationships.</p>
      </div>
    </div>

    <div class="grid">
      <div class="tile">
        <h3>Selected outcomes</h3>
        <ul class="list">
          <li>Reduced time-to-live by ~30% and accelerated first customer usage.</li>
          <li>Enabled ~40% faster adoption through scalable setup patterns.</li>
          <li>Improved onboarding revenue outcomes by ~10%.</li>
        </ul>
      </div>

      <div class="tile">
        <h3>What teams get</h3>
        <ul class="list">
          <li>Clear ownership and decision paths.</li>
          <li>Repeatable delivery rhythms that survive turnover.</li>
          <li>AI use that reduces friction instead of adding noise.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- SCHEDULE -->
  <section id="schedule">
    <div class="section-title">
      <h2>Schedule</h2>
      <div class="hint">Quick booking</div>
    </div>

    <div class="tile">
      <p style="margin:0; color:var(--muted); font-size:14px; line-height:1.55;">
        Book time that works for you. You’ll get a confirmation email right away.
      </p>

      <div style="margin-top:14px; display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
        <button class="btn" type="button" id="openBookingPopup">Book time</button>
      </div>
    </div>
  </section>

  <!-- CONNECT -->
  <section id="contact">
    <div class="section-title">
      <h2>Connect</h2>
      <div class="hint">Fastest way to reach me</div>
    </div>

    <div class="tile">
      <p>Email: <a href="mailto:merlin.komenda@gmail.com">merlin.komenda@gmail.com</a></p>
      <div class="smalllinks">
        <a href="/resume.pdf" target="_blank" rel="noopener">Resume</a>
        <a href="https://www.linkedin.com/in/merlin-komenda/" target="_blank" rel="noopener">LinkedIn</a>
      </div>
    </div>
  </section>

  <div class="footer">
    <div>© <span id="y"></span> Merlin Komenda</div>
  </div>

</div>

<script>
document.getElementById("y").textContent = new Date().getFullYear();

/* Mobile accordion menu */
(function(){
  const btn = document.getElementById("menuBtn");
  const menu = document.getElementById("mobileMenu");
  if(!btn || !menu) return;

  function closeMenu(){
    menu.classList.remove("open");
    btn.setAttribute("aria-expanded","false");
  }

  btn.addEventListener("click", function(){
    const isOpen = menu.classList.toggle("open");
    btn.setAttribute("aria-expanded", String(isOpen));
  });

  menu.querySelectorAll("a").forEach(a => a.addEventListener("click", closeMenu));
  window.addEventListener("keydown", (e) => { if(e.key === "Escape") closeMenu(); });
})();

/* Booking popup */
(function () {
  const btn = document.getElementById("openBookingPopup");
  const bookingUrl = "https://calendar.app.google/M9PeWcXz76KYQfvq9";

  function openPopup() {
    const w = Math.min(980, Math.floor(window.innerWidth * 0.92));
    const h = Math.min(760, Math.floor(window.innerHeight * 0.88));
    const left = Math.floor((window.screenX || window.screenLeft || 0) + (window.innerWidth - w) / 2);
    const top = Math.floor((window.screenY || window.screenTop || 0) + (window.innerHeight - h) / 2);

    const features = [
      `width=${w}`,
      `height=${h}`,
      `left=${left}`,
      `top=${top}`,
      "resizable=yes",
      "scrollbars=yes",
      "noopener=yes",
      "noreferrer=yes"
    ].join(",");

    const win = window.open(bookingUrl, "MerlinBooking", features);
    if (!win) window.open(bookingUrl, "_blank", "noopener,noreferrer");
  }

  btn?.addEventListener("click", openPopup);
})();
<script>
if (window.location.pathname === "/experience") {
  window.location.replace("/experience/");
}
</script>
</script>

</body>
</html>
